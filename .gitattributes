import pygame
import random

# åˆå§‹åŒ– Pygame
pygame.init()

# å±å¹•å°ºå¯¸
WIDTH, HEIGHT = 600, 400
screen = pygame.display.set_mode((WIDTH, HEIGHT))
pygame.display.set_caption("Angpao Slot Machine")

# é¢œè‰²å®šä¹‰
WHITE = (255, 255, 255)
BLACK = (0, 0, 0)
RED = (255, 0, 0)

# è½½å…¥å›¾æ ‡ï¼ˆç”¨çº¢è‰²æ–¹å—ä»£æ›¿ï¼‰
ICONS = ["ğŸ’°", "ğŸ§§", "888", "ğŸ‰", "â­"]  # ä¸åŒçš„ä¸­å¥–å›¾æ ‡

# å­—ä½“
font = pygame.font.Font(None, 50)
small_font = pygame.font.Font(None, 36)

# å˜é‡
slots = ["â“", "â“", "â“"]  # åˆå§‹è€è™æœºçŠ¶æ€
balance = 100  # åˆå§‹é‡‘å¸
running = True

# æŒ‰é’®
spin_button = pygame.Rect(250, 300, 100, 50)

# æ¸¸æˆä¸»å¾ªç¯
while running:
    screen.fill(WHITE)
    
    # æ˜¾ç¤ºå½“å‰é‡‘å¸
    balance_text = small_font.render(f"Coins: {balance}", True, BLACK)
    screen.blit(balance_text, (20, 20))
    
    # æ˜¾ç¤ºè€è™æœºç»“æœ
    for i in range(3):
        slot_text = font.render(slots[i], True, RED)
        screen.blit(slot_text, (150 + i * 100, 150))
    
    # ç”»å‡ºæŒ‰é’®
    pygame.draw.rect(screen, BLACK, spin_button)
    button_text = small_font.render("SPIN", True, WHITE)
    screen.blit(button_text, (spin_button.x + 25, spin_button.y + 15))
    
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False
        
        if event.type == pygame.MOUSEBUTTONDOWN:
            if spin_button.collidepoint(event.pos) and balance >= 10:
                balance -= 10  # æ¯æ¬¡ spin æ‰£ 10 é‡‘å¸
                slots = [random.choice(ICONS) for _ in range(3)]
                
                # åˆ¤æ–­ä¸­å¥–
                if slots[0] == slots[1] == slots[2]:
                    if slots[0] == "888":
                        balance += 100  # 888 æ˜¯å¤§çº¢åŒ…ï¼Œèµ¢å– 100 é‡‘å¸
                    else:
                        balance += 50  # å…¶ä»–ç›¸åŒå›¾æ¡ˆï¼Œèµ¢å– 50 é‡‘å¸
    
    pygame.display.flip()

pygame.quit()
